<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.1.1/socket.io.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://rawgit.com/svgdotjs/svg.js/master/dist/svg.min.js"></script>

<head>
  <link rel="stylesheet" href="style.css">
</head>

<div id="convas">
  <img id="image" width="300" height="900"\>
  <div id="drawing"></div>
</div>

<script>
  var socket = io('http://35.195.240.245:8888');

  // load the image
  socket.on('image', function (data) {
    $('#image').attr("src", "data:image/png;base64," + data);
  });

  //load the bounding boxes
  socket.on('bboxes', function (data) {
    $("#drawing").empty()
    
    var draw = SVG('drawing').size(300, 900)
    
    data = JSON.parse(data);  
    
    for (i = 0; i < data.length; i++) {
      // draw rect
      loc = data[i];
      var rect = draw.rect(85, 85).attr({x:loc[0], y:loc[1]+loc[2]*300});
    }
  });



</script>
